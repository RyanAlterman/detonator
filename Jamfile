
# Boost.build by default enables /Zc:wchar_t option in tools/msvc.jam
# this flag tells the compiler to treat wchar_t as a native built in type.
# however Qt by default uses wchar_t- which means that wchar_t is 
# unsigned short. If these two flags do not match then linker errors
# will ensue when calling functions such as QString::fromStdWString
# A simple fix is to enable wchar_t- in msvc.jam

import path ;
import qt ;

path-constant QT_PATH : "../qt-4.8.6" ;

# or if using using a system Qt
# using qt ;

using qt : $(QT_PATH) ;

project invaders :
  requirements

  <include>$(QT_PATH)/include/QtCore
  <include>$(QT_PATH)/include
  <threading>multi
  <toolset>gcc:<cflags>-std=c++11
  <toolset>clang:<cflags>-std=c++11

  # for the promoted widget
  <include>. 
  ;

#lib pulseaudio : : <name>pulse ;
#lib soundfile  : : <name>sndfile ;

exe invaders : 
  level.cpp
  game.cpp
  main.cpp
  mainwindow.h
  mainwindow.cpp
  mainwindow.ui
  gamewidget.h
  gamewidget.cpp
  resource.qrc
  /qt//QtCore
  /qt//QtGui
 
  #pulseaudio
  #soundfile

  qtmain_win.cpp

  : <user-interface>gui
;

install dist : invaders  README.md ;
